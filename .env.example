# ─── Blueth City — Production Environment Variables ──────────
#
# Copy this file to .env and fill in production values.
# Docker Compose reads .env automatically from the same directory.
#

# ─── Core ────────────────────────────────────────────────────
NODE_ENV=production

# ─── Database ────────────────────────────────────────────────
# Self-hosted (docker-compose postgres service):
DATABASE_URL=postgres://blueth:CHANGE_ME_STRONG_PASSWORD@postgres:5432/blueth_city

# Cloud SQL via Auth Proxy (uncomment and use instead):
# DATABASE_URL=postgres://blueth:PASSWORD@127.0.0.1:5432/blueth_city

# Cloud SQL via Unix socket (uncomment and use instead):
# DATABASE_URL=postgres://blueth:PASSWORD@/blueth_city?host=/cloudsql/PROJECT_ID:REGION:INSTANCE_NAME

# Docker-compose postgres service settings:
POSTGRES_USER=blueth
POSTGRES_PASSWORD=CHANGE_ME_STRONG_PASSWORD
POSTGRES_DB=blueth_city

# ─── API Server ──────────────────────────────────────────────
PORT=3001
HOST=0.0.0.0
ALLOWED_ORIGINS=https://yourdomain.com

# ─── Logging ─────────────────────────────────────────────────
# Levels: debug, info, warn, error
LOG_LEVEL=info

# ─── Workers ─────────────────────────────────────────────────
SCHEDULER_POLL_MS=5000
TICK_POLL_MS=10000

# ─── Web (Next.js) ──────────────────────────────────────────
# NEXT_PUBLIC_API_URL controls ITCH_MODE (client fetches from external API).
# For self-hosted deployments, leave empty so the Next.js rewrite proxy is used.
# For itch.io embeds, set to the external API URL (e.g. https://api.yourdomain.com).
# NEXT_PUBLIC_API_URL=https://api.yourdomain.com
WEB_PORT=3000

# ─── Build / Deploy ───────────────────────────────────────────
# Set to the git short SHA at build time. Docker compose passes this as a build arg.
GIT_COMMIT=

# ─── Caddy (reverse proxy, self-hosted only) ──────────────────
API_DOMAIN=api.localhost
WEB_DOMAIN=localhost
